{% extends "base.html" %}

{% block title %}{{ action }} Article - Flash Blog{% endblock %}

{% block content %}
<section class="card">
    <div class="card-header">
        <div>
            <div class="card-title">{{ action }} Article</div>
            <div class="card-subtitle">
                Share your idea with a clean, focused editor.
            </div>
        </div>
        {% if form_data.published %}
            <span class="badge badge-success">Published</span>
        {% else %}
            <span class="badge badge-draft">Draft</span>
        {% endif %}
    </div>

    {% if messages.error %}
        <div class="alert alert-danger">{{ messages.error }}</div>
    {% endif %}

    <form method="POST" class="stack">
        <div class="field">
            <label for="title" class="field-label">Title</label>
            <input
                type="text"
                id="title"
                name="title"
                class="input"
                required
                placeholder="Give your story a clear, memorable title"
                value="{{ form_data.title or '' }}"
            >
        </div>

        <div class="field">
            <label for="slug" class="field-label">Slug</label>
            <input
                type="text"
                id="slug"
                name="slug"
                class="input"
                required
                placeholder="short-and-readable"
                value="{{ form_data.slug or '' }}"
            >
            <span class="field-hint">Used in the URL: /articles/your-slug</span>
        </div>

        <div class="field">
            <label for="content" class="field-label">Content</label>
            <textarea
                id="content"
                name="content"
                class="textarea"
                required
                placeholder="Write something people will remember..."
            >{{ form_data.content or '' }}</textarea>
        </div>

        <div class="field">
            <label class="field-label">Publishing</label>
            <label class="check-row">
                <input type="checkbox" id="published" name="published" {% if form_data.published %}checked{% endif %}>
                Publish immediately
            </label>
            <span class="field-hint">
                Uncheck to save as a draft and continue editing later.
            </span>
        </div>

        <div class="article-actions">
            <button type="submit" class="btn">Save Article</button>
            <a href="/articles/" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</section>
{% endblock %}
